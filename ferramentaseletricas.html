<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ferramentas Elétricas</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <style>
        body { font-family: "Poppins", sans-serif; text-align: center; }
        .container { margin: 50px auto; max-width: 800px; }
        .w3-card { padding: 15px; margin-bottom: 10px; }
    </style>
</head>
<body>

    <div class="w3-container w3-blue w3-padding">
        <h2>Lista de Ferramentas</h2>
    </div>

    <div class="container">
        <button class="w3-button w3-green w3-margin" onclick="adicionarFerramenta()">Adicionar Ferramenta</button>
        
        <ul id="listaFerramentas" class="w3-ul w3-card-4"></ul>

        <!-- Botão para voltar à tela inicial -->
        <button class="w3-button w3-blue w3-margin" onclick="voltarParaInicio()">Voltar para Início</button>
    </div>

    <script>
        // Função para carregar ferramentas do LocalStorage
        function carregarFerramentas() {
            let lista = document.getElementById("listaFerramentas");
            let ferramentas = JSON.parse(localStorage.getItem("ferramentas")) || [
                "Lixadeira",
                "Parafusadeira",
                "Rompedor"
            ];

            // Limpa e adiciona os itens armazenados
            lista.innerHTML = "";
            ferramentas.forEach(nome => adicionarItemLista(nome, false));

            // Ordena ao carregar
            ordenarLista();
        }

        // Função para adicionar ferramenta
        function adicionarFerramenta() {
            let nome = prompt("Nome da ferramenta:");
            if (nome) {
                adicionarItemLista(nome, true);
            }
        }

        // Função para adicionar item à lista e salvar no LocalStorage
        function adicionarItemLista(nome, salvar = true) {
            let lista = document.getElementById("listaFerramentas");
            let novoItem = document.createElement("li");
            novoItem.classList.add("w3-padding");
            novoItem.innerHTML = `${nome} <button onclick="remover(this)" class="w3-button w3-red w3-small">X</button>`;
            lista.appendChild(novoItem);

            if (salvar) {
                salvarFerramentas();
            }

            ordenarLista();
        }

        // Função para remover ferramenta e atualizar LocalStorage
        function remover(botao) {
            botao.parentElement.remove();
            salvarFerramentas();
        }

        // Função para salvar lista no LocalStorage
        function salvarFerramentas() {
            let itens = document.querySelectorAll("#listaFerramentas li");
            let ferramentas = Array.from(itens).map(item => item.textContent.replace(" X", ""));
            localStorage.setItem("ferramentas", JSON.stringify(ferramentas));
        }

        // Função para ordenar a lista alfabeticamente
        function ordenarLista() {
            let lista = document.getElementById("listaFerramentas");
            let itens = Array.from(lista.children);

            itens.sort((a, b) => a.textContent.localeCompare(b.textContent));

            lista.innerHTML = "";
            itens.forEach(item => lista.appendChild(item));
        }

        function voltarParaInicio() {
            window.location.href = "almoxpuc.html"; // Ajuste conforme necessário
        }

        // Carrega ferramentas ao iniciar a página
        window.onload = carregarFerramentas;
    </script>

</body>
</html>
